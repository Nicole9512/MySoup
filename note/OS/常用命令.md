常用命令
===================

## 一、系统安全

### 1.sudo
* sudo是linux系统管理指令，是允许系统管理员让普通用户执行一些或者全部的root命令的一个工具，如halt，reboot，su等等。这样不仅减少了root用户的登录 和管理时间，同样也提高了安全性。sudo不是对shell的一个代替，它是面向每个命令的。

### 2.su
* su 是切换到其他用户，但是不切换环境变量（比如说那些你用export命令查看一下，就知道两个命令的区别了）。
* su - 是完整的切换到一个用户环境。

### 3.chmod
* Linux/Unix 的文件调用权限分为三级 : 文件拥有者、群组、其他。利用 chmod 可以藉以控制文件如何被他人所调用。
* chmod [-cfvR] [--help] [--version] mode file...
* 其中：
    > u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。
    > + 表示增加权限、- 表示取消权限、= 表示唯一设定权限。
    > r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。
```
将文件 file1.txt 设为所有人皆可读取 :
chmod ugo+r file1.txt

将文件 file1.txt 设为所有人皆可读取 :
chmod a+r file1.txt
```

### 4.setfacl

## 二、进程管理

### 1.w
* Linux w命令用于显示目前登入系统的用户信息。
```
 -h：不打印头信息；

 -u：当显示当前进程和cpu时间时忽略用户名；

 -s：使用短输出格式；

 -f：显示用户从哪登录；

 -V：显示版本信息。
 ```

### 2.top
* top 命令实时显示进程的状态。默认状态显示的是cpu密集型的进程，并且每5秒钟更新一次。
```
top [-] [d] [p] [q] [c] [C] [S] [s] [n]

参数说明：

d：指定每两次屏幕信息刷新之间的时间间隔。当然用户可以使用s交互命令来改变之。

p:通过指定监控进程ID来仅仅监控某个进程的状态。

q:该选项将使top没有任何延迟的进行刷新。如果调用程序有超级用户权限，那么top将以尽可能高的优先级运行。

S：指定累计模式。

s：使top命令在安全模式中运行。这将去除交互命令所带来的潜在危险。

i：使top不显示任何闲置或者僵死进程。

c：显示整个命令行而不只是显示命令名。
```

### 3.ps
* ps 是显示瞬间行程的状态，并不动态连续；如果想对进程运行时间监控，应该用 top 工具。
```
参数：
-A ：所有的进程均显示出来，与 -e 具有同样的效用。
-a ： 显示现行终端机下的所有进程，包括其他用户的进程。
-u ：以用户为主的进程状态。
 x ：通常与 a 这个参数一起使用，可列出较完整信息。

输出格式规划：
 l ：较长、较详细的将该PID 的的信息列出。
 j ：工作的格式 (jobs format)。
-f ：做一个更为完整的输出。
```

### 4.kill
* 终止进程
```
只有第9种信号(SIGKILL)才可以无条件终止进程，其他信号进程都有权利忽略。 常用信号：

HUP     1      终端断线

INT     2      中断（同 Ctrl + C）

QUIT    3      退出（同 Ctrl + \）

TERM    15     终止

KILL    9      强制终止

CONT    18     继续（与STOP相反，fg/bg命令）

STOP    19     暂停（同 Ctrl + Z）
```

### 5.pkill
* 根据进程名杀死进程，类似kill。

### 6.pstree
* 以树状图显示进程，只显示进程的名字，且相同进程合并显示。
```
-A: 各进程树之间的连接以ASCII码字符来连接

-U:各进程树之间的连接以utf8字符来连接，某些终端可能会有错误

-p:同时列出每个进程的PID

-u: 同时列出每个进程的所属账号名称：

因为pstree输出的信息可能比较多，所以最好与more/less配合使用。
```

### 7.killall
* Linux系统中的killall命令用于杀死指定名字的进程（kill processes by name）。我们可以使用kill命令杀死指定进程PID的进程，如果要找到我们需要杀死的进程，我们还需要在之前使用ps等命令再配合grep来查找进程，而killall把这两个过程合二为一，是一个很好用的命令。
```
-Z 只杀死拥有scontext 的进程
-e 要求匹配进程名称
-I 忽略小写
-g 杀死进程组而不是进程
-i 交互模式，杀死进程前先询问用户
-l 列出所有的已知信号名称
-q 不输出警告信息
-s 发送指定的信号
-v 报告信号是否成功发送
-w 等待进程死亡
--help 显示帮助信息
--version 显示版本显示
```
案例：
```
1：杀死所有同名进程
    killall nginx
    killall -9 bash

2.向进程发送指定信号
    killall -TERM ngixn  或者  killall -KILL nginx
```

## 三、用户管理

### 1.id
* Linux id命令用于显示用户的ID，以及所属群组的ID。
* id会显示用户以及所属群组的实际与有效ID。若两个ID相同，则仅显示实际ID。若仅指定用户名称，则显示目前用户的ID。
```
-g 　      显示用户所属群组的ID。
-n 　      显示用户，所属群组或附加群组的名称。
-r 　      显示实际ID。
-u 　      显示用户ID。
-help 　   显示帮助。
-version 　显示版本信息。
```

### 2.usermod
* Linux usermod命令用于修改用户帐号。
```
-c<备注> 　        修改用户帐号的备注文字。
-d登入目录> 　      修改用户登入时的目录。
-e<有效期限> 　     修改帐号的有效期限。
-f<缓冲天数> 　     修改在密码过期后多少天即关闭该帐号。
-g<群组> 　        修改用户所属的群组。
-G<群组> 　        修改用户所属的附加群组。
-l<帐号名称> 　     修改用户帐号名称。
-L 　             锁定用户密码，使密码无效。
-s<shell> 　      修改用户登入后所使用的shell。
-u<uid> 　        修改用户ID。
-U 　             解除密码锁定。
```

### 3.useradd
* useradd或adduser命令用来建立用户帐号和创建用户的起始目录，使用权限是超级用户。
```
-c：加上备注文字，备注文字保存在passwd的备注栏中。
-d：指定用户登入时的主目录，替换系统默认值/home/<用户名>
-D：变更预设值。
-e：指定账号的失效日期，日期格式为MM/DD/YY，例如06/30/12。缺省表示永久有效。
-f：指定在密码过期后多少天即关闭该账号。如果为0账号立即被停用；如果为-1则账号一直可用。默认值为-1.
-g：指定用户所属的群组。值可以使组名也可以是GID。用户组必须已经存在的，期默认值为100，即users。
-G：指定用户所属的附加群组。
-m：自动建立用户的登入目录。
-M：不要自动建立用户的登入目录。
-n：取消建立以用户名称为名的群组。
-r：建立系统账号。
-s：指定用户登入后所使用的shell。默认值为/bin/bash。
-u：指定用户ID号。该值在系统中必须是唯一的。0~499默认是保留给系统用户账号使用的，所以该值必须大于499。
```
案例：
```
建立一个新用户账户testuser1，并设置UID为544，主目录为/usr/testuser1，属于users组：
#useradd -u 544 -d /usr/testuser1  -g users -m  testuser1
```

### 4.groupadd
* 创建一个新的组。Groupadd命令使用命令行中指定的值加上系统默认值创建新的组账户。新组将根据需要输入系统。

### 5.userdel
* userdel可删除用户帐号与相关的文件。若不加参数，则仅删除用户帐号，而不删除相关文件

## 四、文件系统

### 1.mount
* Linux mount命令是经常会使用到的命令，它用于挂载Linux系统外的文件。

### 2.umount
* Linux umount命令用于卸除文件系统。
* umount可卸除目前挂在Linux目录中的文件系统。

### 3.fsck
* fsck（file system check）用来检查和维护不一致的文件系统。若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。

### 4.df
* df命令的功能是用来检查linux服务器的文件系统的磁盘空间占用情况。

### 5.du
* Linux du命令用于显示目录或文件的大小。
* du会显示指定的目录或文件所占用的磁盘空间。
* du 其实是递归查看文件 一般用du/df -h（人类可读）

## 五、关机重启

### 1.shutdown
* 现在关机 sudo shutdown -h now
```
执行了下面命令让Linux在12:30关机，但是如果发现这个时间点不合适，那么可以使用CTRL+C取消
shutdown -h 12:30

60表示60秒,可以自行设定
shutdown -s -t 60 
```

### 2.reboot
* 重启

## 六、网络应用

### 1.curl

### 2.telnet

### 3.mail

### 4.elinks

## 七、网络测试

### 1.ping

### 2.netstat

### 3.host

### 4.ab

## 八、网络配置

### 1.hostname

### 2.ifconfig

## 九、常用工具

### 1.ssh

### 2.tree

### 3.clear

### 4.who

### 5.date

## 十、软件包管理

### 1.yum

### 2.apt-get

### 3.rpm

## 十一、文件查找

### 1.locate

### 2.find

## 十二、文件内容查看

### 1.head

### 2.tail

### 3.less

### 4.more

## 十三、文件处理

### 1.touch

### 2.ublink

### 3.rename

### 4.ln

### 5.cat

## 十四、目录操作

### 1.cd

### 2.mv

### 3.rm

### 4.pwd 

### 5.cp

### 6.ls

### 7.open

## 十五、压缩/解压

### 1.bzip2/bunzip2

### 2.gzip/gunzip

### 3.zio/unzip

### 4.tar

## 十六、文件传输

### 1.ftp

### 2.scp

## 十七、定时任务

### 1.crontab

### 2.at





