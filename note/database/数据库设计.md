Databse
===============

## 一、数据库设计优化目的
* 减少数据冗余
* 避免数据维护异常
* 节约存储空间
* 高效的访问（最重要）

## 二、逻辑关系

* 一对一、一对多、多对多

## 三、名词解释
__关系__：一个关系对应通常说的一张表。<br>
__元组__：表中的一行即是一个元组。<br>
__属性__：表中的一列即为一个属性；每个属性都有一个属性名称，称为属性名。<br>
__候选码__：表中的某个属性组，它可以确定唯一的一个元组。<br>
__主码__：一个关系对应多个候选码，选中其中一个作为主码。<br>
__分量__：元组的一个属性值。<br>

## 四.数据库异常操作和范式

* 常见的数据库范式有：第一、二、三和BC范式。

### 1.第一范式
* 定义：数据库表的所有字段都是单一属性，不可再分的。这个单一属性是由基本数据类型所构成的，如整数，浮点数，字符串等。换句话说，第一范式要求所有表都是二维表。
* 例如：这个设计，不符合第一范式。可以把用户信息中的属性再拆分满足第一范式。

|id|account|age|user_info|
|:--:|:--:|:--:|:--|
|1|zhang3|22|姓名：张三；电话137777|

### 2.第二范式
* 定义：数据库的表中不存在非关键字对任一候选关键字的部分函数依赖。部分函数依赖是指存在着组合关键字中的某一关键字决定非关键字的情况。换句话说，所有的单关键字段的表都符合第二范式。

* 例如：这个设计，不符合第二范式。可以通过建立三张表来使其满足第二范式（商品信息，供应商信息，商品-供应商关系表）

|product_name|supplier_name|price|descripition|weight|supplier_phone|shelf_life|category|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|可乐|饮料一厂|2.00|碳酸饮料|250g|8008200|2019-01|饮料

* 因为供应商和商品之间是多对多关系，所以只有使用商品名+供应商名才可以标识出一件商品。也就是说商品名+供应商名是一组组合关键字。上表中存在以下部分函数依赖：
>（商品名称） -> （价格，描述，重量，保质期）   
>（供应商名称） -> （供应商电话）

### 3.第三范式
* 定义：第三范式是在第二范式的基础上定义的，如果数据表中不存在非关键字字段对任意的候选关键字段的传递函数依赖则符合第三范式。

* 例如：存在以下函数依赖关系：
    > 商品名称 -> 分类 -> 分类描述   
* 也就是说存在非关键字字段“分类描述”对关键字字段"商品名称"产生传递函数依赖。

|product_name|price|descripition|weight|shelf_life|category|category_comment|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|可乐|2.00|快乐水|500g|2019-1|酒水饮料|碳酸饮料|
|苹果|3.00||200g|2017-10|水果生鲜|水果|

### 4.BC范式
* 定义：在第三范式的基础之上，数据库表中如果不存在任意字段对任一候选关键字段的传递函数依赖，则符合BC范式。也就说，如果是符合关键字，关键字之间也不能存在函数依赖。
